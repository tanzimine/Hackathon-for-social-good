IMPORT $.IncomeVulnerability AS Income;

// Show overall statistics
OUTPUT(Income.Stats, NAMED('OverallStatistics'));

// Show top 20 most vulnerable areas
OUTPUT(CHOOSEN(Income.SortedScores, 20), NAMED('Top20MostVulnerable'));

// Show distribution by vulnerability level
OUTPUT(COUNT(Income.HighVulnerability), NAMED('HighVulnerabilityCount'));
OUTPUT(COUNT(Income.MediumVulnerability), NAMED('MediumVulnerabilityCount'));
OUTPUT(COUNT(Income.LowVulnerability), NAMED('LowVulnerabilityCount'));

// Show sample of data from each category
OUTPUT(CHOOSEN(Income.HighVulnerability, 5), NAMED('SampleHighVulnerability'));
OUTPUT(CHOOSEN(Income.MediumVulnerability, 5), NAMED('SampleMediumVulnerability'));
OUTPUT(CHOOSEN(Income.LowVulnerability, 5), NAMED('SampleLowVulnerability'));

// Show income ranges
OUTPUT(TABLE(Income.Scores,
    {REAL8 MinIncome := MIN(GROUP, Median_Income),
     REAL8 MaxIncome := MAX(GROUP, Median_Income),
     REAL8 AvgIncome := AVE(GROUP, Median_Income)}),
    NAMED('IncomeRanges')); 